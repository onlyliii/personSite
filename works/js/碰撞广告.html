<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>碰撞广告</title>
<style>
*{ margin:0; padding:0; list-style:none; font-family: "微软雅黑";}
#div1{width:100px;height:100px;background:red;position: absolute;left:0;top:0;}
</style>
<script>
window.onload=function(){
	var oDiv=document.getElementById('div1');
	var speedY=8;
	var speedX=6;
	
	setInterval(function(){
		var l=oDiv.offsetLeft+speedX;
		var t=oDiv.offsetTop+speedY;//计算
		
		if(t>document.documentElement.clientHeight-oDiv.offsetHeight){
			t=document.documentElement.clientHeight-oDiv.offsetHeight;
			speedY*=-1;
		}else if(t<0){
			t=0;		//限定
			speedY*=-1;
		}
		if(l>document.documentElement.clientWidth-oDiv.offsetWidth){
			l=document.documentElement.clientWidth-oDiv.offsetWidth;
			speedX*=-1;	//反向
		}else if(l<0){
			l=0;		//限定
			speedX*=-1;	//反向
		}
		
		oDiv.style.left=l+'px';
		oDiv.style.top=t+'px';
		console.log(document.documentElement.clientHeight-oDiv.offsetHeight,oDiv.offsetTop);
	},30);	
};
</script>
</head>

<body>

<div id="div1"></div>

</body>
</html>
